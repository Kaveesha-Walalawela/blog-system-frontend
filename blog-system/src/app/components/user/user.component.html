<app-header></app-header>

<div class="user-profile">
  <h2 class="profile-title">User Profile</h2>
  <div class="profile-info">
    <div class="avatar">
      <img src="{{ loggedInUser?.avatar }}" alt="Profile Picture">
    </div>
    <div class="user-details">
      <p class="profile-name">{{ loggedInUser?.username }}</p>
      <p class="profile-email">{{ loggedInUser?.email }}</p>
    </div>
  </div>

  <div class="user-posts">
    <h3 class="text-center">Your Posts</h3>
    <div *ngIf="userPosts.length > 0; else noUserPosts">
      <div *ngFor="let post of userPosts" class="card mb-3 bg-white text-black p-3">
        <p><span class="text-bold">Title:</span> {{ post.title }}</p>
        <p><span class="text-bold">Author:</span> {{ post.author }}</p>
        <p>{{ post.content | slice: 0:1000 }}</p>
        <div class="btn-container">
          <button class="btn-edit" [routerLink]="['/editpost', post.id]">Edit</button>
          <button class="btn-delete" (click)="deletePost(post)">Delete</button>
          <button class="btn-save" (click)="savePost(post)">Save</button>
        </div>
      </div>
    </div>
    <ng-template #noUserPosts>
      <p class="text-center">No posts found.</p>
    </ng-template>
  </div>
</div>
